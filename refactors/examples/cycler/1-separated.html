<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf8" />
    <title>cycler: separated</title>
  </head>

  <body>
    <div id="user-interface">
      <p id="current-number"></p>
    </div>

    <script id="state">
      const state = {
        min: 0,
        max: 5,
        current: 0,
      };
    </script>

    <script id="logic">
      const step = data => {
        const nextStep = data.current + 1;
        if (nextStep <= data.max) {
          return nextStep;
        } else {
          return data.min;
        }
      };
    </script>

    <script id="handlers">
      const handleClick = () => {
        state.current = step(state);

        document.getElementById('current-number').innerHTML = state.current;

        console.log('clicked:', { ...state });
      };
    </script>

    <script id="listeners-and-init">
      const currentNumberEl = document.getElementById('current-number');

      // add event listener
      currentNumberEl.addEventListener('click', handleClick);

      // initialize UI from state
      currentNumberEl.innerHTML = state.current;
    </script>
  </body>
</html>
